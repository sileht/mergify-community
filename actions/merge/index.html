
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta content="Mergify Documentation for Merge Action" name="description" />
<meta content="mergify, merge, pull request" name="keywords" />
<meta content="Merge a pull request." name="summary" />
<meta content="code-branch" name="doc:icon" />

    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    
    <title>merge &#8212; Mergify  documentation</title>

  <link rel="stylesheet" href="../../_bootstrap/bootstrap.css" />
  <link href="https://fonts.googleapis.com/css2?family=Poppins&display=swap" rel="stylesheet" />
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.1/css/all.min.css" integrity="sha512-+4zCK9k+qNFUR5X+cKL9EIR+ZOhtIloNl9GIKS57V1MyNsYpYcUrUeQc9vNfzsWfV28IaLL3i96P9sdNyeRssA==" crossorigin="anonymous" />
  
    <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/basic.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/mergify.css" type="text/css" />
    <link rel="stylesheet" type="text/css" href="../../_static/graphviz.css" />

  
    <script id="documentation_options" data-url_root="../../" src="../../_static/documentation_options.js"></script>
    <script src="../../_static/jquery.js"></script>
    <script src="../../_static/underscore.js"></script>
    <script src="../../_static/doctools.js"></script>
  <script src="../../_bootstrap/bootstrap.min.js"></script>
  <script type="text/javascript" src="../../_static/mergify.js"></script>

  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
      })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-118666091-1', 'auto');
    ga('send', 'pageview');
  </script>
    <link rel="shortcut icon" href="../../_static/favicon.ico"/>
    <link rel="index" title="Index" href="../../genindex/" />
    <link rel="search" title="Search" href="../../search/" />
    <link rel="next" title="post_check" href="../post_check/" />
    <link rel="prev" title="label" href="../label/" /> 
  </head><body>
<div class="body-container">
  <nav class="navbar navbar-expand-md sticky-top navbar-light bg-white flex-wrap">
  <a class="navbar-brand" href="../../">
    <img class="logo" src="../../_static/mergify-logo-horizontal.png" alt="Mergify"/>
  </a>
  <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#top-navbar">
    <span class="navbar-toggler-icon"></span>
  </button>
  <div class="navbar-collapse collapse" id="top-navbar">
    <ul class="navbar-nav justify-content-end ml-auto">
      <li class="nav-item">
        <a class="nav-link" href="https://mergify.io" target="_blank">Home</a>
      </li>
      <li class="nav-item">
        <a class="nav-link" href="https://mergify.io/about" target="_blank">About</a>
      </li>
      <li class="nav-item">
        <a class="nav-link" href="https://blog.mergify.io" target="_blank">Blog</a>
      </li>
      <li class="nav-item">
        <a class="nav-link" href="https://dashboard.mergify.io" target="_blank">Dashboard</a>
      </li>
      <li class="nav-item">
        <a class="nav-link" href="https://github.com/Mergifyio/mergify-engine/discussions" target="_blank">Discussions</a>
      </li>
      <li class="nav-item">
        <a class="nav-link" href="https://status.mergify.io" target="_blank">Status</a>
      </li>
    </ul>
    <div class="dropdown-divider d-block d-sm-none mb-4"></div>
    <form class="form-inline justify-content-end" action="../../search/" method="get">
      <input type="text" name="q" class="form-control mr-sm-2"/>
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
      <button class="btn btn-outline-primary my-2 my-sm-0" type="submit">Search</button>
    </form>
  </div>
</nav>
  <nav class="related d-flex justify-content-between flex-wrap" role="navigation" aria-label="related navigation">
  <ol class="breadcrumb">
    <li class="breadcrumb-item"><a href="../"
                                   
                                   accesskey="U"
                                   class="active"
                                   >🚀 Actions</a></li>
    <li class="breadcrumb-item active">merge</li>
  </ol>
  <div>
    <div class="btn-group btn-group-sm" role="group" aria-label="Basic example">
      <a href="../label/" title="Previous Chapter: label" class="btn btn-primary" role="button" accesskey="P">
        &laquo; label
      </a>
      <a href="../post_check/" title="Next Chapter: post_check" class="btn btn-primary" role="button" accesskey="N">
        post_check &raquo;
      </a>
    </div>
  </div>
</nav>
  <div class="main container-fluid">
    <div class="row">
      <div class="sphinxsidebar col-12 col-lg-4 col-xl-3" aria-label="main navigation"><ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../getting-started/">➡️ Getting Started</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../getting-started/#installation">Installation</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../getting-started/#configuration">Configuration</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../getting-started/#understanding-mergify-check-report">Understanding Mergify Check Report</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../getting-started/#controlling-mergify-with-commands">Controlling Mergify with Commands</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../configuration/">🔖 Configuration File</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../configuration/#file-used">File Used</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../configuration/#format">Format</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../configuration/#data-types">Data Types</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../configuration/#validation">Validation</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../conditions/">🎯 Conditions</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../conditions/#grammar">Grammar</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../conditions/#attributes">Attributes</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../conditions/#operators">Operators</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../conditions/#how-to-match-lists">How To Match Lists</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../conditions/#implementing-or-conditions">Implementing Or Conditions</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../conditions/#about-status-checks">About Status Checks</a></li>
</ul>
</li>
<li class="toctree-l1 current"><a class="reference internal" href="../">🚀 Actions</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../assign/">assign</a></li>
<li class="toctree-l2"><a class="reference internal" href="../backport/">backport</a></li>
<li class="toctree-l2"><a class="reference internal" href="../close/">close</a></li>
<li class="toctree-l2"><a class="reference internal" href="../copy/">copy</a></li>
<li class="toctree-l2"><a class="reference internal" href="../comment/">comment</a></li>
<li class="toctree-l2"><a class="reference internal" href="../delete_head_branch/">delete_head_branch</a></li>
<li class="toctree-l2"><a class="reference internal" href="../dismiss_reviews/">dismiss_reviews</a></li>
<li class="toctree-l2"><a class="reference internal" href="../label/">label</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">merge</a></li>
<li class="toctree-l2"><a class="reference internal" href="../post_check/">post_check</a></li>
<li class="toctree-l2"><a class="reference internal" href="../queue/">queue</a></li>
<li class="toctree-l2"><a class="reference internal" href="../rebase/">rebase</a></li>
<li class="toctree-l2"><a class="reference internal" href="../request_reviews/">request_reviews</a></li>
<li class="toctree-l2"><a class="reference internal" href="../review/">review</a></li>
<li class="toctree-l2"><a class="reference internal" href="../update/">update</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../commands/">⚙️ Commands</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../commands/#rebase">rebase</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../commands/#update">update</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../commands/#backport">backport</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../commands/#copy">copy</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../commands/#refresh">refresh</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../examples/">🧪 Example Rules</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../examples/#automatic-merge-when-ci-works-and-approving-reviews">✅ Automatic Merge when CI works and approving reviews</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../examples/#merging-based-on-modified-files">🗂 Merging based on Modified Files</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../examples/#less-strict-rules-for-stable-branches">🏖 Less Strict Rules for Stable Branches</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../examples/#using-labels-to-enable-disable-merge">🎬 Using Labels to Enable/Disable Merge</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../examples/#using-labels-to-prioritize-merge">⚡️ Using Labels to Prioritize Merge</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../examples/#require-all-requested-reviews-to-be-approved">🙅️ Require All Requested Reviews to Be Approved</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../examples/#matching-pull-requests-with-task-lists">☑️ Matching Pull Requests with Task Lists</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../examples/#bots">🤖 Bots</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../badge/">🎖 Badge</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../badge/#embedding">Embedding</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../badge/#styles">Styles</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../faq/">💬 FAQ</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../faq/#mergify-is-unable-to-merge-my-pull-request-due-to-my-branch-protection-settings">Mergify is unable to merge my pull request due to my branch protection settings</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../faq/#why-did-mergify-seem-to-have-merged-my-pull-request-whereas-all-conditions-were-not-true">Why did Mergify seem to have merged my pull request whereas all conditions were not true?</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../faq/#i-see-a-rebase-and-force-push-done-by-a-member-of-the-repository-but-mergify-actually-did-it">I see a rebase and force-push done by a member of the repository, but Mergify actually did it.</a></li>
</ul>
</li>
</ul>


      </div>
      <div class="document col-12 col-lg-8 col-xl-9">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="merge">
<span id="merge-action"></span><h1>merge<a class="headerlink" href="#merge" title="Permalink to this headline"> 🔗</a></h1>
<p>The <code class="docutils literal notranslate"><span class="pre">merge</span></code> action merges the pull request into its base branch.</p>
<p>Mergify always respects the <a class="reference external" href="https://docs.github.com/en/github/administering-a-repository/about-protected-branches">branch protection</a> settings. When the conditions
match and the <code class="docutils literal notranslate"><span class="pre">merge</span></code> action runs, Mergify waits for the branch protection to
be validated before merging the pull request.</p>
<div class="section" id="options">
<h2>Options<a class="headerlink" href="#options" title="Permalink to this headline"> 🔗</a></h2>
<table class="colwidths-given docutils align-default">
<colgroup>
<col style="width: 17%" />
<col style="width: 17%" />
<col style="width: 17%" />
<col style="width: 50%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Key Name</p></th>
<th class="head"><p>Value Type</p></th>
<th class="head"><p>Default</p></th>
<th class="head"><p>Value Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">method</span></code></p></td>
<td><p>string</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">merge</span></code></p></td>
<td><p>Merge method to use. Possible values are <code class="docutils literal notranslate"><span class="pre">merge</span></code>, <code class="docutils literal notranslate"><span class="pre">squash</span></code> or
<code class="docutils literal notranslate"><span class="pre">rebase</span></code>.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">rebase_fallback</span></code></p></td>
<td><p>string</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">merge</span></code></p></td>
<td><p>If <code class="docutils literal notranslate"><span class="pre">method</span></code> is set to <code class="docutils literal notranslate"><span class="pre">rebase</span></code>, but the pull request cannot be
rebased, the method defined in <code class="docutils literal notranslate"><span class="pre">rebase_fallback</span></code> will be used instead.
Possible values are <code class="docutils literal notranslate"><span class="pre">merge</span></code>, <code class="docutils literal notranslate"><span class="pre">squash</span></code>, <code class="docutils literal notranslate"><span class="pre">none</span></code>. <code class="docutils literal notranslate"><span class="pre">none</span></code> will
report an error if rebase is not possible.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">strict</span></code></p></td>
<td><p>Boolean, <code class="docutils literal notranslate"><span class="pre">smart</span></code> or <code class="docutils literal notranslate"><span class="pre">smart+fasttrack</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">false</span></code></p></td>
<td><p>Determines whether to use <a class="reference internal" href="#strict-merge"><span class="std std-ref">Strict Merge</span></a>:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">true</span></code> enables <a class="reference internal" href="#strict-merge"><span class="std std-ref">Strict Merge</span></a>. The pull request will be merged
only once up-to-date with its base branch. When multiple pull requests
are ready to be merged, they will <strong>all</strong> be updated with their base
branch at the same time, and the first ready to be merged will be
merged; the remaining pull request will be updated once again.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">smart</span></code> enables <a class="reference internal" href="#strict-merge"><span class="std std-ref">Strict Merge</span></a> but only update one pull request
against its base branch at a time.
This allows you to e.g., save CI time, as Mergify will queue the
mergeable pull requests and update them serially, one at a time.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">smart+fasttrack</span></code> enables <a class="reference internal" href="#strict-merge"><span class="std std-ref">Strict Merge</span></a> with the same behavior as <code class="docutils literal notranslate"><span class="pre">smart</span></code>,
except if the pull request is already in sync with its base branch,
the queue is bypassed and the pull request is directly merged.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">false</span></code> disables <a class="reference internal" href="#strict-merge"><span class="std std-ref">Strict Merge</span></a> and merge pull requests as soon
as possible, without bringing the pull request up-to-date with its
base branch.</p></li>
</ul>
</td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">strict_method</span></code></p></td>
<td><p>string</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">merge</span></code></p></td>
<td><p>Method to use to update the pull request with its base branch
when <a class="reference internal" href="#strict-merge"><span class="std std-ref">Strict Merge</span></a> is enabled. Possible values:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">merge</span></code> to merge the base branch into the pull request.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">rebase</span></code> to rebase the pull request against its base branch.</p></li>
</ul>
<p>Note that the <code class="docutils literal notranslate"><span class="pre">rebase</span></code> method has some drawbacks, see <a class="reference internal" href="#strict-rebase"><span class="std std-ref">Strict Rebase</span></a>.</p>
</td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">merge_bot_account</span></code></p></td>
<td><p><a class="reference internal" href="../../configuration/#data-type-template"><span class="std std-ref">Template</span></a></p></td>
<td></td>
<td><p><div class="feature-tag"><a href="https://mergify.io/pricing" target="_blank"><span class="badge badge-warning">Premium Plan<br/>Feature 🦾</span></a></div>
Mergify can impersonate a GitHub user to merge pull request.
If no <code class="docutils literal notranslate"><span class="pre">merge_bot_account</span></code> is set, Mergify will merge the pull request
itself. The user account <strong>must</strong> have already been
logged in Mergify dashboard once and have <strong>write</strong> or <strong>maintain</strong> permission.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">update_bot_account</span></code></p></td>
<td><p><a class="reference internal" href="../../configuration/#data-type-template"><span class="std std-ref">Template</span></a></p></td>
<td></td>
<td><p><div class="feature-tag"><a href="https://mergify.io/pricing" target="_blank"><span class="badge badge-warning">Premium Plan<br/>Feature 🦾</span></a></div>
For certain actions, such as rebasing branches, Mergify has to
impersonate a GitHub user. You can specify the account to use with this
option. If no <code class="docutils literal notranslate"><span class="pre">update_bot_account</span></code> is set, Mergify picks randomly one of the
organization users instead. The user account <strong>must</strong> have already been
logged in Mergify dashboard once.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">priority</span></code></p></td>
<td><p>1 &lt;= integer &lt;= 10000 or <code class="docutils literal notranslate"><span class="pre">low</span></code> or <code class="docutils literal notranslate"><span class="pre">medium</span></code> or <code class="docutils literal notranslate"><span class="pre">high</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">medium</span></code></p></td>
<td><p><div class="feature-tag"><a href="https://mergify.io/pricing" target="_blank"><span class="badge badge-warning">Premium Plan<br/>Feature 🦾</span></a></div>
This sets the priority of the pull request in the queue when <code class="docutils literal notranslate"><span class="pre">smart</span></code>
<a class="reference internal" href="#strict-merge"><span class="std std-ref">Strict Merge</span></a> is enabled. The pull request with the highest priority is merged first.
<code class="docutils literal notranslate"><span class="pre">low</span></code>, <code class="docutils literal notranslate"><span class="pre">medium</span></code>, <code class="docutils literal notranslate"><span class="pre">high</span></code> are aliases for <code class="docutils literal notranslate"><span class="pre">1000</span></code>, <code class="docutils literal notranslate"><span class="pre">2000</span></code>, <code class="docutils literal notranslate"><span class="pre">3000</span></code>.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">commit_message</span></code></p></td>
<td><p>string</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">default</span></code></p></td>
<td><p>Defines what commit message to use when merging using the <code class="docutils literal notranslate"><span class="pre">squash</span></code> or
<code class="docutils literal notranslate"><span class="pre">merge</span></code> method. Possible values are:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">default</span></code> to use the default commit message provided by GitHub
or defined in the pull request body (see <a class="reference internal" href="#commit-message"><span class="std std-ref">Defining the Commit Message</span></a>).</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">title+body</span></code> means to use the title and body from the pull request
itself as the commit message. The pull request number will be added to
end of the title.</p></li>
</ul>
</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="defining-the-commit-message">
<span id="commit-message"></span><h2>Defining the Commit Message<a class="headerlink" href="#defining-the-commit-message" title="Permalink to this headline"> 🔗</a></h2>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>This feature only works when <code class="docutils literal notranslate"><span class="pre">commit_message</span></code> is set to <code class="docutils literal notranslate"><span class="pre">default</span></code>.</p>
</div>
<p>When a pull request is merged using the <code class="docutils literal notranslate"><span class="pre">squash</span></code> or <code class="docutils literal notranslate"><span class="pre">merge</span></code> method, you can
override the default commit message. To that end, you need to add a section in
the pull request body that starts with <code class="docutils literal notranslate"><span class="pre">Commit</span> <span class="pre">Message</span></code>.</p>
<div class="highlight-md notranslate"><div class="highlight"><pre><span></span><span class="gu">## Commit Message</span>

My wanted commit title

The whole commit message finishes at the end of the pull request body or
before a new Markdown title.
</pre></div>
</div>
<p>The whole commit message finishes at the end of the pull request body or before
a new Markdown title.</p>
<p>You can use any available attributes of the pull request in the commit message,
by writing using the <a class="reference internal" href="../../configuration/#data-type-template"><span class="std std-ref">templating</span></a> language:</p>
<p>For example:</p>
<div class="highlight-jinja notranslate"><div class="highlight"><pre><span></span><span class="x">## Commit Message</span>

<span class="cp">{{</span><span class="nv">title</span><span class="cp">}}</span><span class="x"></span>

<span class="x">This pull request implements magnificient features, and I would like to</span>
<span class="x">talk about them. This has been written by </span><span class="cp">{{</span><span class="nv">author</span><span class="cp">}}</span><span class="x"> and has been reviewed</span>
<span class="x">by:</span>

<span class="cp">{%</span> <span class="k">for</span> <span class="nv">user</span> <span class="k">in</span> <span class="nv">approved_reviews_by</span> <span class="cp">%}</span><span class="x"></span>
<span class="x">- </span><span class="cp">{{</span><span class="nv">user</span><span class="cp">}}</span><span class="x"></span>
<span class="cp">{%</span> <span class="k">endfor</span> <span class="cp">%}</span><span class="x"></span>
</pre></div>
</div>
<p>Check the <a class="reference internal" href="../../configuration/#data-type-template"><span class="std std-ref">Template</span></a> for more details on the format.</p>
</div>
<div class="section" id="strict-merge">
<span id="id1"></span><h2>Strict Merge<a class="headerlink" href="#strict-merge" title="Permalink to this headline"> 🔗</a></h2>
<div class="admonition tip">
<p class="admonition-title">Tip</p>
<p>While <cite>strict merge</cite> solves most issues, the <a class="reference internal" href="../queue/#queue-action"><span class="std std-ref">queue action</span></a> and its <a class="reference internal" href="../queue/#queue-rules"><span class="std std-ref">queue rules</span></a> provide a more powerful
solution and offer total control of the merge queue.</p>
</div>
<p>The <cite>strict merge</cite> option enables a simple merge queue that prevents merging
broken pull requests. That situation can arise when outdated pull requests are
being merged in their base branch. For an complete explanation of the problem
see <a class="reference internal" href="../queue/#merge-queue-problem"><span class="std std-ref">this queue action documentation section</span></a>.</p>
<p>The <cite>strict merge</cite> option solves that issue by updating any pull request that
is not up-to-date with its base branch before being merged. That forces the
continuous integration system to test again the pull request with the new code.</p>
<p>When the <code class="docutils literal notranslate"><span class="pre">strict</span></code> option is enabled, Mergify takes care of merging the target
branch in any pull request that is not up-to-date with its target branch. If
multiple pull requests are mergeable, they are scheduled to be merged
sequentially, and they will be updated on top of each other.</p>
<p>The pull request branch update is only done when the pull request is ready to
be merged by the engine, e.g., when all the <cite>conditions</cite> are validated.</p>
<div class="section" id="enabling-the-strict-option">
<h3>Enabling the Strict Option<a class="headerlink" href="#enabling-the-strict-option" title="Permalink to this headline"> 🔗</a></h3>
<p>To enable <cite>strict merge</cite>, you need to set the value of <code class="docutils literal notranslate"><span class="pre">strict</span></code> to <code class="docutils literal notranslate"><span class="pre">true</span></code>
in the <a class="reference internal" href="#merge-action"><span class="std std-ref">merge</span></a> action. For example:</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nt">pull_request_rules</span><span class="p">:</span>
  <span class="p p-Indicator">-</span> <span class="nt">name</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">automatic merge with strict</span>
    <span class="nt">conditions</span><span class="p">:</span>
      <span class="p p-Indicator">-</span> <span class="s">&quot;#approved-reviews-by&gt;=2&quot;</span>
      <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">check-success=continuous-integration/travis-ci/pr</span>
    <span class="nt">actions</span><span class="p">:</span>
      <span class="nt">merge</span><span class="p">:</span>
        <span class="nt">method</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">merge</span>
        <span class="nt">strict</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">true</span>
</pre></div>
</div>
</div>
<div class="section" id="strict-rebase">
<span id="id2"></span><h3>Strict Rebase<a class="headerlink" href="#strict-rebase" title="Permalink to this headline"> 🔗</a></h3>
<p>Using the <code class="docutils literal notranslate"><span class="pre">rebase</span></code> method for the strict merge has many drawbacks:</p>
<ul class="simple">
<li><p>It doesn't work for private forked repositories.</p></li>
<li><p>Due to the change of all commits SHA-1 of the pull request, your
contributor will need to force-push its own branch if they add new
commits.</p></li>
<li><p>GitHub branch protection of your repository may dismiss approved reviews.</p></li>
<li><p>GitHub branch protection of the contributor repository may refuse Mergify to
force push the rebased pull request.</p></li>
<li><p>GPG signed commits will lost their signatures.</p></li>
<li><p>Mergify will use a token from one of the repository member to force-push the
branch. GitHub Applications are not allowed to do that so. This is a GitHub
limitation that we already have reported — there is not much Mergify can do
about that. In order to make this works, Mergify randomly picks and borrows a
token from one of your repository member and uses it to force-push the
rebased branch. The GitHub UI will show your collaborator as the author of
the push, while it actually has been executed by Mergify.</p></li>
</ul>
</div>
</div>
<div class="section" id="git-merge-workflow-and-mergify-equivalent-configuration">
<h2>Git merge workflow and Mergify equivalent configuration<a class="headerlink" href="#git-merge-workflow-and-mergify-equivalent-configuration" title="Permalink to this headline"> 🔗</a></h2>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p><cite>base branch</cite> is usually <code class="docutils literal notranslate"><span class="pre">master</span></code>, <code class="docutils literal notranslate"><span class="pre">main</span></code> or <code class="docutils literal notranslate"><span class="pre">dev</span></code>,
<cite>head branch</cite> is the pull request branch.</p>
</div>
<p>There is a lot of different ways to merge pull requests. You can replicate many
<code class="docutils literal notranslate"><span class="pre">git</span></code> based merge when using Mergify — here's a list of equivalence.</p>
<table class="colwidths-given docutils align-default">
<colgroup>
<col style="width: 50%" />
<col style="width: 50%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Git merge workflow</p></th>
<th class="head"><p>Mergify configuration</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><div class="highlight-default notranslate"><div class="highlight"><pre><span></span>(on head branch) $ git merge --no-ff base
</pre></div>
</div>
</td>
<td><div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">merge</span><span class="p">:</span>
  <span class="n">method</span><span class="p">:</span> <span class="n">merge</span>
</pre></div>
</div>
</td>
</tr>
<tr class="row-odd"><td><div class="highlight-default notranslate"><div class="highlight"><pre><span></span>(on head branch) $ git merge --no-ff base
(on head branch) # Wait for CI to go green
(on base branch) $ git merge --no-ff head
</pre></div>
</div>
</td>
<td><div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">merge</span><span class="p">:</span>
  <span class="n">strict</span><span class="p">:</span> <span class="n">true</span>
  <span class="n">method</span><span class="p">:</span> <span class="n">merge</span>
</pre></div>
</div>
</td>
</tr>
<tr class="row-even"><td><div class="highlight-default notranslate"><div class="highlight"><pre><span></span>(on head branch) $ git rebase base
(on base branch) $ git merge --ff head
</pre></div>
</div>
</td>
<td><div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">merge</span><span class="p">:</span>
  <span class="n">method</span><span class="p">:</span> <span class="n">rebase</span>
</pre></div>
</div>
</td>
</tr>
<tr class="row-odd"><td><div class="highlight-default notranslate"><div class="highlight"><pre><span></span>(on head branch) $ git merge --no-ff base
(on head branch) # Wait for CI to go green
(on head branch) $ git rebase base
(on base branch) $ git merge --ff head
</pre></div>
</div>
</td>
<td><div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">merge</span><span class="p">:</span>
  <span class="n">strict</span><span class="p">:</span> <span class="n">true</span>
  <span class="n">method</span><span class="p">:</span> <span class="n">rebase</span>
</pre></div>
</div>
</td>
</tr>
<tr class="row-even"><td><div class="highlight-default notranslate"><div class="highlight"><pre><span></span>(on head branch) $ git rebase base
(on head branch) # Wait for CI to go green
(on base branch) $ git merge --no-ff head
</pre></div>
</div>
</td>
<td><div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">merge</span><span class="p">:</span>
  <span class="n">strict</span><span class="p">:</span> <span class="n">true</span>
  <span class="n">strict_method</span><span class="p">:</span> <span class="n">rebase</span>
  <span class="n">method</span><span class="p">:</span> <span class="n">merge</span>
</pre></div>
</div>
</td>
</tr>
<tr class="row-odd"><td><div class="highlight-default notranslate"><div class="highlight"><pre><span></span>(on head branch) # Squash all commits
(on base branch) $ git merge --ff head
</pre></div>
</div>
</td>
<td><div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">merge</span><span class="p">:</span>
  <span class="n">method</span><span class="p">:</span> <span class="n">squash</span>
</pre></div>
</div>
</td>
</tr>
<tr class="row-even"><td><div class="highlight-default notranslate"><div class="highlight"><pre><span></span>(on head branch) $ git merge --no-ff base
(on head branch) # Wait for CI to go green
(on head branch) # Squash all commits
(on base branch) $ git merge --ff head
</pre></div>
</div>
</td>
<td><div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">merge</span><span class="p">:</span>
  <span class="n">strict</span><span class="p">:</span> <span class="n">true</span>
  <span class="n">method</span><span class="p">:</span> <span class="n">squash</span>
</pre></div>
</div>
</td>
</tr>
<tr class="row-odd"><td><div class="highlight-default notranslate"><div class="highlight"><pre><span></span>(on head branch) $ git rebase base
(on head branch) # Wait for CI to go green
(on head branch) # Squash all commits
(on base branch) $ git merge --ff head
</pre></div>
</div>
</td>
<td><div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">merge</span><span class="p">:</span>
  <span class="n">strict</span><span class="p">:</span> <span class="n">true</span>
  <span class="n">strict_method</span><span class="p">:</span> <span class="n">rebase</span>
  <span class="n">method</span><span class="p">:</span> <span class="n">squash</span>
</pre></div>
</div>
</td>
</tr>
<tr class="row-even"><td><div class="highlight-default notranslate"><div class="highlight"><pre><span></span>(on head branch) $ git rebase base
(on head branch) # Squash all commits
(on head branch) # Mergify wait for CI
(on head branch) $ git merge --no-ff head
</pre></div>
</div>
</td>
<td><div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">merge</span><span class="p">:</span>
  <span class="n">strict</span><span class="p">:</span> <span class="n">true</span>
  <span class="n">strict_method</span><span class="p">:</span> <span class="n">squash</span>
  <span class="n">method</span><span class="p">:</span> <span class="n">merge</span>
</pre></div>
</div>
<p><cite>(not yet implemented)</cite></p>
</td>
</tr>
</tbody>
</table>
</div>
</div>


          </div>
        </div>
      </div>
    </div>
      <div class="clearer"></div>
    </div>
  </div>
</div>
<footer class="footer d-flex justify-content-between flex-wrap">
    <div class="copyright">
        <div>&copy; Copyright 2021, Mergify</div>
    </div>
    <div>
      <a href="https://github.com/Mergifyio/mergify-engine/tree/master/docs/source/actions/merge.rst"
         class="btn btn-dark btn-sm active">
        Edit on GitHub <i class="fas fa-external-link-square-alt"></i>
      </a>
    </div>
    <div>
        <a href="#" class="btn btn-primary btn-sm" role="button">Back to top</a>
    </div>
</footer>
  </body>
</html>